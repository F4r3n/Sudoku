var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(t){return null==t?"":t}function c(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function l(t){t.parentNode.removeChild(t)}function a(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function f(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function _(){return d(" ")}function b(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function g(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function w(t,e,n){t.classList[n?"add":"remove"](e)}let h;function p(t){h=t}const m=[],y=[],v=[],$=[],S=Promise.resolve();let G=!1;function I(t){v.push(t)}let x=!1;const U=new Set;function k(){if(!x){x=!0;do{for(let t=0;t<m.length;t+=1){const e=m[t];p(e),E(e.$$)}for(p(null),m.length=0;y.length;)y.pop()();for(let t=0;t<v.length;t+=1){const e=v[t];U.has(e)||(U.add(e),e())}v.length=0}while(m.length);for(;$.length;)$.pop()();G=!1,x=!1,U.clear()}}function E(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(I)}}const A=new Set;let C;function O(t,e){t&&t.i&&(A.delete(t),t.i(e))}function R(t,n,s,i){const{fragment:c,on_mount:u,on_destroy:l,after_update:a}=t.$$;c&&c.m(n,s),i||I((()=>{const n=u.map(e).filter(o);l?l.push(...n):r(n),t.$$.on_mount=[]})),a.forEach(I)}function D(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function P(t,e){-1===t.$$.dirty[0]&&(m.push(t),G||(G=!0,S.then(k)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function j(e,o,s,i,c,u,a,f=[-1]){const d=h;p(e);const _=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:c,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(d?d.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:o.target||d.$$.root};a&&a(_.root);let b=!1;if(_.ctx=s?s(e,o.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return _.ctx&&c(_.ctx[t],_.ctx[t]=o)&&(!_.skip_bound&&_.bound[t]&&_.bound[t](o),b&&P(e,t)),n})):[],_.update(),b=!0,r(_.before_update),_.fragment=!!i&&i(_.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);_.fragment&&_.fragment.l(t),t.forEach(l)}else _.fragment&&_.fragment.c();o.intro&&O(e.$$.fragment),R(e,o.target,o.anchor,o.customElement),k()}p(d)}class K{$destroy(){D(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Z=new Array(32).fill(void 0);function V(t){return Z[t]}Z.push(void 0,null,!0,!1);let L=Z.length;function M(t){const e=V(t);return function(t){t<36||(Z[t]=L,L=t)}(t),e}function T(t){L===Z.length&&Z.push(Z.length+1);const e=L;return L=Z[e],Z[e]=t,e}let W=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});W.decode();let H=null;function N(){return null!==H&&H.buffer===C.memory.buffer||(H=new Uint8Array(C.memory.buffer)),H}function q(t,e){return W.decode(N().subarray(t,t+e))}function B(t,e){try{return t.apply(this,e)}catch(t){C.__wbindgen_exn_store(T(t))}}function F(t,e){return N().subarray(t/1,t/1+e)}class J{static __wrap(t){const e=Object.create(J.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();C.__wbg_exportedresults_free(t)}get is_done(){return 0!==C.__wbg_get_exportedresults_is_done(this.ptr)}set is_done(t){C.__wbg_set_exportedresults_is_done(this.ptr,t)}}async function z(t){void 0===t&&(t=new URL("index_bg.wasm",document.currentScript&&document.currentScript.src||new URL("bundle.js",document.baseURI).href));const e={wbg:{}};e.wbg.__wbindgen_object_drop_ref=function(t){M(t)},e.wbg.__wbg_randomFillSync_64cc7d048f228ca8=function(){return B((function(t,e,n){V(t).randomFillSync(F(e,n))}),arguments)},e.wbg.__wbg_getRandomValues_98117e9a7e993920=function(){return B((function(t,e){V(t).getRandomValues(V(e))}),arguments)},e.wbg.__wbg_process_2f24d6544ea7b200=function(t){return T(V(t).process)},e.wbg.__wbindgen_is_object=function(t){const e=V(t);return"object"==typeof e&&null!==e},e.wbg.__wbg_versions_6164651e75405d4a=function(t){return T(V(t).versions)},e.wbg.__wbg_node_4b517d861cbcb3bc=function(t){return T(V(t).node)},e.wbg.__wbindgen_is_string=function(t){return"string"==typeof V(t)},e.wbg.__wbg_modulerequire_3440a4bcf44437db=function(){return B((function(t,e){return T(r.require(q(t,e)))}),arguments)},e.wbg.__wbg_crypto_98fc271021c7d2ad=function(t){return T(V(t).crypto)},e.wbg.__wbg_msCrypto_a2cdb043d2bfe57f=function(t){return T(V(t).msCrypto)},e.wbg.__wbg_newnoargs_be86524d73f67598=function(t,e){return T(new Function(q(t,e)))},e.wbg.__wbg_call_888d259a5fefc347=function(){return B((function(t,e){return T(V(t).call(V(e)))}),arguments)},e.wbg.__wbindgen_object_clone_ref=function(t){return T(V(t))},e.wbg.__wbg_self_c6fbdfc2918d5e58=function(){return B((function(){return T(self.self)}),arguments)},e.wbg.__wbg_window_baec038b5ab35c54=function(){return B((function(){return T(window.window)}),arguments)},e.wbg.__wbg_globalThis_3f735a5746d41fbd=function(){return B((function(){return T(globalThis.globalThis)}),arguments)},e.wbg.__wbg_global_1bc0b39582740e95=function(){return B((function(){return T(global.global)}),arguments)},e.wbg.__wbindgen_is_undefined=function(t){return void 0===V(t)},e.wbg.__wbg_buffer_397eaa4d72ee94dd=function(t){return T(V(t).buffer)},e.wbg.__wbg_newwithbyteoffsetandlength_4b9b8c4e3f5adbff=function(t,e,n){return T(new Uint8Array(V(t),e>>>0,n>>>0))},e.wbg.__wbg_new_a7ce447f15ff496f=function(t){return T(new Uint8Array(V(t)))},e.wbg.__wbg_set_969ad0a60e51d320=function(t,e,n){V(t).set(V(e),n>>>0)},e.wbg.__wbg_length_1eb8fc608a0d4cdb=function(t){return V(t).length},e.wbg.__wbg_newwithlength_929232475839a482=function(t){return T(new Uint8Array(t>>>0))},e.wbg.__wbg_subarray_8b658422a224f479=function(t,e,n){return T(V(t).subarray(e>>>0,n>>>0))},e.wbg.__wbindgen_throw=function(t,e){throw new Error(q(t,e))},e.wbg.__wbindgen_memory=function(){return T(C.memory)},("string"==typeof t||"function"==typeof Request&&t instanceof Request||"function"==typeof URL&&t instanceof URL)&&(t=fetch(t));const{instance:n,module:r}=await async function(t,e){if("function"==typeof Response&&t instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(t,e)}catch(e){if("application/wasm"==t.headers.get("Content-Type"))throw e;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",e)}const n=await t.arrayBuffer();return await WebAssembly.instantiate(n,e)}{const n=await WebAssembly.instantiate(t,e);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}}(await t,e);return C=n.exports,z.__wbindgen_wasm_module=r,C}var Q=Object.freeze({__proto__:null,return_named_struct:function(t){var e=C.return_named_struct(t);return J.__wrap(e)},generate_wasm:function(t){return M(C.generate_wasm(t))},solve_wasm:function(t,e){return function(t,e){if(!(t instanceof e))throw new Error(`expected instance of ${e.name}`);t.ptr}(e,J),M(C.solve_wasm(T(t),e.ptr))},ExportedResults:J,default:z});function X(t,e,n){const r=t.slice();return r[19]=e[n],r}function Y(t,e,n){const r=t.slice();return r[22]=e[n],r[19]=n,r}function tt(t){let e,n,o,s,a,h,p,m=(0==t[22]?"":t[22])+"";return{c(){e=f("div"),n=d(m),o=_(),g(e,"class",s=i(t[1]==t[19]||parseInt(t[19]/3)%3==parseInt(t[1]/3)%3&&parseInt(t[19]/27)==parseInt(t[1]/27)||t[19]%9==t[1]%9||parseInt(t[19]/9,10)==parseInt(t[1]/9,10)?"cell cell_hover":"cell")+" svelte-f1rat8"),g(e,"pos",a=t[19]),w(e,"cell_selected",t[2]==t[19])},m(r,s){u(r,e,s),c(e,n),c(e,o),t[13](e),h||(p=[b(e,"click",t[4]),b(e,"mouseover",t[5])],h=!0)},p(t,r){8&r&&m!==(m=(0==t[22]?"":t[22])+"")&&function(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}(n,m),2&r&&s!==(s=i(t[1]==t[19]||parseInt(t[19]/3)%3==parseInt(t[1]/3)%3&&parseInt(t[19]/27)==parseInt(t[1]/27)||t[19]%9==t[1]%9||parseInt(t[19]/9,10)==parseInt(t[1]/9,10)?"cell cell_hover":"cell")+" svelte-f1rat8")&&g(e,"class",s),6&r&&w(e,"cell_selected",t[2]==t[19])},d(n){n&&l(e),t[13](null),h=!1,r(p)}}}function et(t){let e,n,r,o;function s(){return t[14](t[19])}return{c(){e=f("div"),n=d(t[19]),g(e,"class","number border svelte-f1rat8")},m(t,i){u(t,e,i),c(e,n),r||(o=b(e,"click",s),r=!0)},p(e,n){t=e},d(t){t&&l(e),r=!1,o()}}}function nt(e){let n,o,s,i,d,w,h,p,m,y,v,$,S,G,I,x,U,k=e[3],E=[];for(let t=0;t<k.length;t+=1)E[t]=tt(Y(e,k,t));let A=[1,2,3,4,5,6,7,8,9],C=[];for(let t=0;t<9;t+=1)C[t]=et(X(e,A,t));return{c(){n=f("div"),o=_(),s=f("div"),i=f("div");for(let t=0;t<E.length;t+=1)E[t].c();d=_(),w=f("div"),h=f("div"),p=f("div");for(let t=0;t<9;t+=1)C[t].c();m=_(),y=f("div"),y.textContent="Clear",v=_(),$=_(),S=f("button"),S.textContent="Generate",G=_(),I=f("button"),I.textContent="Solve",g(n,"class","mainMenu svelte-f1rat8"),g(i,"class","sudoku_board svelte-f1rat8"),g(p,"class","numpad svelte-f1rat8"),g(y,"class","number noselect svelte-f1rat8"),g(h,"class","pad svelte-f1rat8"),g(S,"class","button noselect svelte-f1rat8"),g(I,"class","button noselect svelte-f1rat8"),g(w,"class","right-menu svelte-f1rat8"),g(s,"class","container svelte-f1rat8")},m(t,r){u(t,n,r),u(t,o,r),u(t,s,r),c(s,i);for(let t=0;t<E.length;t+=1)E[t].m(i,null);c(s,d),c(s,w),c(w,h),c(h,p);for(let t=0;t<9;t+=1)C[t].m(p,null);c(h,m),c(h,y),c(h,v),c(w,$),c(w,S),c(w,G),c(w,I),x||(U=[b(window,"keydown",e[10]),b(y,"click",e[15]),b(S,"click",e[6]),b(I,"click",e[7])],x=!0)},p(t,[e]){if(62&e){let n;for(k=t[3],n=0;n<k.length;n+=1){const r=Y(t,k,n);E[n]?E[n].p(r,e):(E[n]=tt(r),E[n].c(),E[n].m(i,null))}for(;n<E.length;n+=1)E[n].d(1);E.length=k.length}if(512&e){let n;for(A=[1,2,3,4,5,6,7,8,9],n=0;n<9;n+=1){const r=X(t,A,n);C[n]?C[n].p(r,e):(C[n]=et(r),C[n].c(),C[n].m(p,null))}for(;n<9;n+=1)C[n].d(1)}},i:t,o:t,d(t){t&&l(n),t&&l(o),t&&l(s),a(E,t),a(C,t),x=!1,r(U)}}}function rt(t,e,n){let{possibleValues:r=[]}=e,{currentElementHovered:o=-1}=e,{currentElementSelected:s=-1}=e,{data:i}=e,c=null;class u{constructor(){this._SUDOKU_SIZE=9,this._data=new Uint8Array(this._SUDOKU_SIZE*this._SUDOKU_SIZE),this._gridCoord=null}Init(){this._gridCoord=this._CreateCoordGrid();for(let t=0;t<this._data.length;t++)this._data[t]=0}GetGrid(){return this._data}IsInBlock(t,e){return this._gridCoord[t]===this._gridCoord[e]}GetPos(t,e){return e*this._SUDOKU_SIZE+t}GetCoord(t){return[t%this._SUDOKU_SIZE,parseInt(t/this._SUDOKU_SIZE)]}GetPossibleValues(t,e){const[n,r]=this.GetCoord(t);let o=[1,2,3,4,5,6,7,8,9];for(let s=n-3;s<n+3;s++)for(let n=r-3;n<r+3;n++){let r=this.GetPos(s,n);if(this.IsInBlock(t,r)){const t=e[r];0!==t&&(o[t-1]=0)}}for(let t=0;t<this._SUDOKU_SIZE;t++){const n=e[this.GetPos(t,r)];0!==n&&(o[n-1]=0)}for(let t=0;t<this._SUDOKU_SIZE;t++){const r=e[this.GetPos(n,t)];0!==r&&(o[r-1]=0)}return o.filter((t=>0!==t))}Reset(){for(let t=0;t<this._data.length;++t)this._data[t]=0}SetGrid(t){this._data=t}_CreateCoordGrid(){let t=new Uint8Array(this._SUDOKU_SIZE*this._SUDOKU_SIZE);for(let e=0;e<t.length;++e)t[e]=parseInt(e/3)%3+3*parseInt(e/27);return t}SolveJS(t,e){return new Promise(((e,n)=>{let r=t,o=[];o.push([t.slice(),0,0]);let s=!1;for(;o.length>0&&!s;){let[t,e,n]=o.pop(),i=0;for(i=e;i<t.length;++i){if(0!==t[i])continue;let e=this.GetPossibleValues(i,t);if(!(e.length>n))break;t[i]=e[n],e.length>1&&o.push([t.slice(),i,++n]),n=0}s=i===t.length,s&&(r=t)}e([s,r])}))}Solve(t,e){return new Promise(((e,n)=>{let r=c.return_named_struct(!1),o=c.solve_wasm(t,r);console.log(r.is_done),e([r.is_done,o])}))}Generate(){return new Promise(((t,e)=>{t(c.generate_wasm(2))}))}}function l(t){s>=0&&s<81&&(a.GetGrid()[s]=t,n(3,i=a.GetGrid()))}!async function(){c=await(async(t={})=>{let{importHook:e,serverPath:n}=t,r="./build/assets/SudokuHelper-48849de7.wasm";return null!=n&&(r=n+/[^\/\\]*$/.exec(r)[0]),null!=e&&(r=e(r)),await z(r),Q})()}();let{sudoku:a=new u}=e;a.Init(),i=a.GetGrid();return t.$$set=t=>{"possibleValues"in t&&n(0,r=t.possibleValues),"currentElementHovered"in t&&n(1,o=t.currentElementHovered),"currentElementSelected"in t&&n(2,s=t.currentElementSelected),"data"in t&&n(3,i=t.data),"sudoku"in t&&n(12,a=t.sudoku)},[r,o,s,i,function(t){n(2,s=parseInt(t.target.getAttribute("pos"))),console.log(s)},function(t){n(1,o=t.target.getAttribute("pos")),n(0,r=a.GetPossibleValues(o,a.GetGrid()))},async function(){a.Generate().then((t=>{a.SetGrid(t),n(3,i=a.GetGrid())}))},async function(){a.Solve(a.GetGrid(),(t=>{console.log(t),n(3,i=t)})).then((([t,e])=>{t?(a.SetGrid(e),n(3,i=a.GetGrid())):console.log("No solution")}))},async function(){a.SolveJS(a.GetGrid(),(t=>{console.log(t),n(3,i=t)})).then((([t,e])=>{t?(a.SetGrid(e),n(3,i=a.GetGrid())):console.log("No solution")}))},l,function(t){const e=(t,e,n)=>Math.min(Math.max(t,e),n),r=t.key;switch(r){case"ArrowDown":n(2,s=e(s+9,0,80));break;case"ArrowRight":n(2,s=e(s+1,0,80));break;case"ArrowLeft":n(2,s=e(s-1,0,80));break;case"ArrowUp":n(2,s=e(s-9,0,80));break;default:r>=0&&r<=9&&l(r)}n(1,o=s)},function(){console.log(a.GetGrid())},a,function(t){y[t?"unshift":"push"]((()=>{o=t,n(1,o)}))},t=>{l(t)},()=>{l(0)}]}class ot extends K{constructor(t){super(),j(this,t,rt,nt,s,{possibleValues:0,currentElementHovered:1,currentElementSelected:2,data:3,sudoku:12})}}function st(e){let n,r,o,s,i,a,d;return a=new ot({}),{c(){var t;n=f("main"),r=f("h1"),r.textContent="Sudoku!",o=_(),s=f("div"),s.textContent="For Neha ❤️",i=_(),(t=a.$$.fragment)&&t.c(),g(r,"class","svelte-1pto0u"),g(s,"id","sub-title"),g(s,"class","svelte-1pto0u"),g(n,"class","svelte-1pto0u")},m(t,e){u(t,n,e),c(n,r),c(n,o),c(n,s),c(n,i),R(a,n,null),d=!0},p:t,i(t){d||(O(a.$$.fragment,t),d=!0)},o(t){!function(t,e,n,r){if(t&&t.o){if(A.has(t))return;A.add(t),(void 0).c.push((()=>{A.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}(a.$$.fragment,t),d=!1},d(t){t&&l(n),D(a)}}}return new class extends K{constructor(t){super(),j(this,t,null,st,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
